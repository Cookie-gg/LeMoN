.entire {
  font-family: $jp_font;
  line-height: 1.4;
  $res: 1199px;
  top: 0;
  transition: top $common_anmt;
  width: 100%;

  @include max(position, sticky, $width: $res);

  @include max(margin-top, 40px, $width: $res);

  @include max(letter-spacing, #{1.2px}, 1.2px);

  .meta {
    align-items: center;
    background-color: rgba(white, 0.04);
    box-sizing: border-box;
    font-family: $jp_font;
    padding: 25px;
    position: relative;
    width: 100%;
    z-index: -1;

    @include max(display, flex, none, $res);

    &::before {
      background-color: $lemon;
      bottom: 0;
      content: '';
      height: 1px;
      left: 0;
      position: absolute;
      transition: width $common_anmt order(2);
      width: 0;
    }
    &::after {
      background: linear-gradient(to bottom right, rgba(255, 255, 255, 0) 50%, $lemon 50.75%) no-repeat top left/100%
        100%;
      bottom: 0;
      content: '';
      height: 0px;
      position: absolute;
      right: 0;
      transition: all $common_anmt order(1);
      width: 0px;
    }
    .emoji {
      align-items: center;
      display: flex;
      font-size: 45px;
      justify-content: center;
      margin-right: 15px;
    }
    .title {
      font-size: 16px;
      font-weight: 500;
      line-height: 1.8;
    }
  }
  .toc {
    background-color: #313131;
    box-sizing: border-box;
    font-family: $jp_font;
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
    transition: top $common_anmt order(3);
    width: 100%;

    @include custom_scrollbar();

    @include max(padding, #{25px}, $width: $res);

    @include max(position, absolute, $width: $res);

    @include max(background-color, #313131, $width: $res);

    .title {
      @include max(font-size, 18px, $width: $res);

      @include max(font-weight, 600, 400, $res);

      @include max(cursor, $sp_value: pointer, $width: $res);

      @include max(transition, $sp_value: background-color $common_anmt, $width: $res);

      @media screen and (max-width: $res) {
        border-bottom-width: 1px;
        border-color: $lemon;
        border-style: solid;
        border-top-width: 1px;
        color: white;
        position: fixed;
        user-select: none;
        z-index: 99999;

        @include max(writing-mode, vertical-rl);

        @include max(padding-top, #{5px}, 2.5px);

        @include max(display, $sp_value: flex);

        @include max(align-items, $sp_value: center);

        @include max(padding-bottom, #{5px}, 5px);

        @include max(right, calc(30px + 11px));

        @include add(right, $sp_value: (20px + 30px), $from: 11px);

        @include max(font-size, #{18px}, 18px);

        @include max(top, calc(30px + 11px + 110px));

        @include add(top, $sp_value: 20px, $from: 11px);

        @include hover(true) {
          &:hover {
            background-color: rgba(white, 0.08);
          }
        }

        svg {
          transition: transform $common_anmt;

          @include max(margin-top, #{7.5px});

          @include max(margin-left, $sp_value: 5px);
        }
      }
    }
    .body {
      @include max(margin-top, 20px, $width: $res);

      @media screen and (max-width: $res) {
        background-color: #313131;
        border: 2px solid rgba(white, 0.1);
        box-sizing: border-box;
        max-height: 50vh;
        overflow-x: visible;
        overflow-y: scroll;
        position: fixed;
        right: -100vw;
        transition: right $common_anmt;
        z-index: 99999;

        @include max(top, calc(30px + 11px + 110px + 75px + 11px));

        @include add(top, $sp_value: (20px + 60px), $from: 11px);

        @include max(padding, #{25px}, 25px);

        @include custom_scrollbar();

        &::before {
          background: linear-gradient(to top left, rgba(255, 255, 255, 0) 50%, rgba(white, 0.1) 50.75%) no-repeat top;
          content: '';
          left: 0;
          position: absolute;
          top: 0;
          z-index: 0;

          @include max(height, #{25px}, 25px);

          @include max(width, #{25px}, 25px);
        }
      }
      &.toc {
        transition: 0;
      }
      li {
        align-items: center;
        color: rgba(white, 0.6);
        cursor: pointer;
        display: flex;
        position: relative;
        transition: color $common_anmt;
        user-select: none;

        &.heading_1 {
          font-weight: 500;

          @include max(font-size, #{16px}, 16px);

          &::before {
            @include max(margin-top, #{2px}, 2px);

            @include max(margin-right, #{10px}, 10px);
          }
        }
        &.heading_2 {
          font-weight: 400;

          @include max(font-size, #{13px}, 13px);

          &::before {
            @include max(height, #{7px}, 7px);

            @include max(margin-top, #{2px}, 2px);

            @include max(margin-right, #{11px}, 11px);

            @include max(margin-left, #{1px}, 1px);

            @include max(margin-bottom, #{1.5px}, 1.5px);

            @include max(width, #{7px}, 7px);
          }
        }
        &::before {
          background-color: #6f6f6f;
          box-sizing: border-box;
          content: '';
          display: block;
          transform: rotate(-45deg);
          transition: background-color $common_anmt, border $common_anmt;
          z-index: 1;

          @include max(width, #{10px}, 10px);

          @include max(height, #{10px}, 10px);
        }
        &:not(:first-of-type) {
          margin-top: 10px;
          &::after {
            background-color: #6f6f6f;
            bottom: 50%;
            content: '';
            position: absolute;
            z-index: 0;

            @include max(left, #{4px}, 4px);

            @include max(width, #{1px}, 1px);

            @include max(height, #{30px}, 30px);
          }
        }
        &.active {
          color: white;
          pointer-events: none;
          &::before {
            background-clip: content-box;
            background-color: $lemon;
            border: solid rgba($lemon, 0.5);

            @include max(border-width, #{2px}, 2px);
          }
        }
      }
    }
    @media screen and (max-width: $res) {
      &.opened {
        .title svg {
          transform: rotate(-180deg);
        }
        .body {
          @include max(right, calc(30px + 11px));

          @include add(right, $sp_value: (20px + 30px), $from: 11px);
        }
      }
    }
  }
  &.init {
    .meta::before,
    .meta::after,
    .toc {
      transition: all 0s;
    }
  }
  &.showed {
    .meta {
      &::before {
        transition: width $common_anmt order(3);
        width: 100%;
      }
      &::after {
        transition: all $common_anmt order(4);

        @include max(width, #{40px}, 40px);

        @include max(height, #{40px}, 40px);
      }
    }
    .toc {
      transition: top $common_anmt order(2);
    }
  }
}
